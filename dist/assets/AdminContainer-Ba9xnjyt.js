import{r as k,j as r,_ as oe,R as K}from"./index-DS_7OMdj.js";import{M as Ne,E as ws,_ as Ns,N as ks}from"./NavBar-zyYeBmV-.js";import{u as Ue,a as xe,b as ge}from"./Context-Aw1jXLtB.js";function _s(e=[]){const[l,i]=k.useState(e);return{list:l,toggleList:n=>{if(l.includes(n)){const o=l.filter(u=>u!==n);i(o)}else i([...l,n])},setList:i}}const as=({onHandleQuery:e,placeHolderValue:l="Buscar"})=>r.jsxs("form",{className:"w-full mx-auto m-4 px-4",children:[r.jsx("label",{htmlFor:"default-search",className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),r.jsx("input",{type:"search",id:"default-search",className:"block w-full transition-all duration-500 p-2 ps-10  text-gray-900 border border-gray-300 rounded-full bg-gray-50 focus:ring-blue-500 focus:border-blue-500  dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:l,required:!0,onChange:i=>{e(i.target.value)}})]})]}),As=({opening:e,changeState:l,rowSelected:i})=>{const{fulFillmentUsers:t}=Ue(),[n,o]=k.useState([]),[u,b]=k.useState(!1),[p,_]=k.useState(n),[D,A]=k.useState(1),{list:v,toggleList:R,setList:E}=_s();function Y(){b(!0),xe.post(`${ge}/pick-pack/order_assigment/${i.idVtex_order}/${D}`,{data:v}).then(()=>{oe.success("Cambios enviados!"),l(!1)}).catch(L=>{console.log(L),oe.error("ups ocurrio un error intenta de nuevo")}).finally(()=>b(!1))}function J(L){const y=n.filter(j=>j.name_user.toLowerCase().includes(L.toLowerCase()));y.length>0?_(y):_(n)}return k.useEffect(()=>{o(t),_(t)},[i]),k.useEffect(()=>{D===1?i.picking_assigment!==null?E(i.picking_assigment):E([]):i.packing_assigment!==null?E(i.packing_assigment):E([])},[D,i]),r.jsxs(Ne,{isOpen:e,setIsOpen:l,children:[r.jsxs("div",{id:"options",className:"flex justify-center gap-8 p-2",children:[r.jsx("div",{onClick:()=>A(1),className:`transition-all cursor-pointer px-5 py-3 w-1/2 text-center rounded-lg  ${D!==1?"border-2 border-blue-500 text-blue-600":"bg-blue-500 text-white"} `,children:"Pickeo"}),r.jsx("div",{onClick:()=>A(2),className:`transition-all cursor-pointer px-5 w-1/2 py-3 text-center rounded-lg  ${D!==2?"border-2 border-blue-500 text-blue-600":"bg-blue-500 text-white"} `,children:"Packing"})]}),r.jsxs("div",{className:"text-sm text-center font-semibold ",children:["Los usuarios seleccionados"," ",D===1?r.jsx("span",{className:"text-info px-3",children:"ALISTARÁN ✅"}):r.jsx("span",{className:"text-emerald-400 px-3",children:"EPACANRÁN📦"})," ","la orden ",i.idVtex_order]}),r.jsx(as,{placeHolderValue:"Buscar Picker",onHandleQuery:J}),r.jsxs("div",{className:"overflow-x-auto max-h-96 mb-16",children:[r.jsxs("table",{className:"table table-pin-cols",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Nombre"}),r.jsx("th",{children:"XP"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:p.map((L,y)=>r.jsxs("tr",{className:"cursor-pointer",onClick:()=>R(L.id_user),children:[r.jsx("td",{children:r.jsx("div",{className:"",children:r.jsx("div",{className:"avatar",children:r.jsx("div",{className:"mask mask-squircle w-10 h-10",children:r.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQx99bK-uLFqLyjp6cPQY8kJbEcsc6u4pedrPxNIZYTrKValUzf3SoYf-8uhv9EmjYAs9I&usqp=CAU",alt:"Avatar Tailwind CSS Component"})})})})}),r.jsx("td",{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-bold",children:L.name_user}),r.jsx("div",{className:"text-sm opacity-50",children:"027"})]})}),r.jsx("td",{children:r.jsx("div",{children:y+12})}),r.jsx("td",{className:"text-center"}),r.jsx("th",{children:r.jsx("label",{children:r.jsx("input",{type:"checkbox",className:"checkbox checkbox-info",readOnly:!0,checked:v&&v.includes(L.id_user)})})})]},y))})]}),r.jsx("div",{className:"fixed bottom-2 -translate-x-1/2 left-1/2",children:u?r.jsx("span",{className:"loading loading-infinity loading-lg text-green-500"}):r.jsx("div",{onClick:Y,className:"euro-btn ",children:"Confirmar cambios"})})]})]})};var be=e=>e.type==="checkbox",he=e=>e instanceof Date,I=e=>e==null;const ns=e=>typeof e=="object";var O=e=>!I(e)&&!Array.isArray(e)&&ns(e)&&!he(e),Vs=e=>O(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Ss=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Fs=(e,l)=>e.has(Ss(l)),Ls=e=>{const l=e.constructor&&e.constructor.prototype;return O(l)&&l.hasOwnProperty("isPrototypeOf")},Re=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function W(e){let l;const i=Array.isArray(e);if(e instanceof Date)l=new Date(e);else if(e instanceof Set)l=new Set(e);else if(!(Re&&(e instanceof Blob||e instanceof FileList))&&(i||O(e)))if(l=i?[]:{},!i&&!Ls(e))l=e;else for(const t in e)e.hasOwnProperty(t)&&(l[t]=W(e[t]));else return e;return l}var pe=e=>Array.isArray(e)?e.filter(Boolean):[],M=e=>e===void 0,x=(e,l,i)=>{if(!l||!O(e))return i;const t=pe(l.split(/[,[\].]+?/)).reduce((n,o)=>I(n)?n:n[o],e);return M(t)||t===e?M(e[l])?i:e[l]:t},ae=e=>typeof e=="boolean";const Ge={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},le={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};K.createContext(null);var Cs=(e,l,i,t=!0)=>{const n={defaultValues:l._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return l._proxyFormState[u]!==G.all&&(l._proxyFormState[u]=!t||G.all),i&&(i[u]=!0),e[u]}});return n},Q=e=>O(e)&&!Object.keys(e).length,Ds=(e,l,i,t)=>{i(e);const{name:n,...o}=e;return Q(o)||Object.keys(o).length>=Object.keys(l).length||Object.keys(o).find(u=>l[u]===(!t||G.all))},Ee=e=>Array.isArray(e)?e:[e];function Es(e){const l=K.useRef(e);l.current=e,K.useEffect(()=>{const i=!e.disabled&&l.current.subject&&l.current.subject.subscribe({next:l.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}var se=e=>typeof e=="string",Ms=(e,l,i,t,n)=>se(e)?(t&&l.watch.add(e),x(i,e,n)):Array.isArray(e)?e.map(o=>(t&&l.watch.add(o),x(i,o))):(t&&(l.watchAll=!0),i),Be=e=>/^\w*$/.test(e),os=e=>pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),F=(e,l,i)=>{let t=-1;const n=Be(l)?[l]:os(l),o=n.length,u=o-1;for(;++t<o;){const b=n[t];let p=i;if(t!==u){const _=e[b];p=O(_)||Array.isArray(_)?_:isNaN(+n[t+1])?{}:[]}e[b]=p,e=e[b]}return e},Os=(e,l,i,t,n)=>l?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[t]:n||!0}}:{},Je=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),Xe=(e,l,i)=>!i&&(l.watchAll||l.watch.has(e)||[...l.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ve=(e,l,i,t)=>{for(const n of i||Object.keys(e)){const o=x(e,n);if(o){const{_f:u,...b}=o;if(u){if(u.refs&&u.refs[0]&&l(u.refs[0],n)&&!t)break;if(u.ref&&l(u.ref,u.name)&&!t)break;ve(b,l)}else O(b)&&ve(b,l)}}};var Ts=(e,l,i)=>{const t=pe(x(e,i));return F(t,"root",l[i]),F(e,i,t),e},qe=e=>e.type==="file",ne=e=>typeof e=="function",ke=e=>{if(!Re)return!1;const l=e?e.ownerDocument:0;return e instanceof(l&&l.defaultView?l.defaultView.HTMLElement:HTMLElement)},we=e=>se(e),ze=e=>e.type==="radio",_e=e=>e instanceof RegExp;const es={value:!1,isValid:!1},ss={value:!0,isValid:!0};var cs=e=>{if(Array.isArray(e)){if(e.length>1){const l=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:l,isValid:!!l.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||e[0].value===""?ss:{value:e[0].value,isValid:!0}:ss:es}return es};const ts={isValid:!1,value:null};var us=e=>Array.isArray(e)?e.reduce((l,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:l,ts):ts;function rs(e,l,i="validate"){if(we(e)||Array.isArray(e)&&e.every(we)||ae(e)&&!e)return{type:i,message:we(e)?e:"",ref:l}}var fe=e=>O(e)&&!_e(e)?e:{value:e,message:""},is=async(e,l,i,t,n)=>{const{ref:o,refs:u,required:b,maxLength:p,minLength:_,min:D,max:A,pattern:v,validate:R,name:E,valueAsNumber:Y,mount:J,disabled:L}=e._f,y=x(l,E);if(!J||L)return{};const j=u?u[0]:o,B=N=>{t&&j.reportValidity&&(j.setCustomValidity(ae(N)?"":N||""),j.reportValidity())},S={},te=ze(o),re=be(o),ce=te||re,H=(Y||qe(o))&&M(o.value)&&M(y)||ke(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,X=Os.bind(null,E,i,S),Z=(N,w,C,q=le.maxLength,P=le.minLength)=>{const $=N?w:C;S[E]={type:N?q:P,message:$,ref:o,...X(N?q:P,$)}};if(n?!Array.isArray(y)||!y.length:b&&(!ce&&(H||I(y))||ae(y)&&!y||re&&!cs(u).isValid||te&&!us(u).isValid)){const{value:N,message:w}=we(b)?{value:!!b,message:b}:fe(b);if(N&&(S[E]={type:le.required,message:w,ref:j,...X(le.required,w)},!i))return B(w),S}if(!H&&(!I(D)||!I(A))){let N,w;const C=fe(A),q=fe(D);if(!I(y)&&!isNaN(y)){const P=o.valueAsNumber||y&&+y;I(C.value)||(N=P>C.value),I(q.value)||(w=P<q.value)}else{const P=o.valueAsDate||new Date(y),$=ie=>new Date(new Date().toDateString()+" "+ie),m=o.type=="time",T=o.type=="week";se(C.value)&&y&&(N=m?$(y)>$(C.value):T?y>C.value:P>new Date(C.value)),se(q.value)&&y&&(w=m?$(y)<$(q.value):T?y<q.value:P<new Date(q.value))}if((N||w)&&(Z(!!N,C.message,q.message,le.max,le.min),!i))return B(S[E].message),S}if((p||_)&&!H&&(se(y)||n&&Array.isArray(y))){const N=fe(p),w=fe(_),C=!I(N.value)&&y.length>+N.value,q=!I(w.value)&&y.length<+w.value;if((C||q)&&(Z(C,N.message,w.message),!i))return B(S[E].message),S}if(v&&!H&&se(y)){const{value:N,message:w}=fe(v);if(_e(N)&&!y.match(N)&&(S[E]={type:le.pattern,message:w,ref:o,...X(le.pattern,w)},!i))return B(w),S}if(R){if(ne(R)){const N=await R(y,l),w=rs(N,j);if(w&&(S[E]={...w,...X(le.validate,w.message)},!i))return B(w.message),S}else if(O(R)){let N={};for(const w in R){if(!Q(N)&&!i)break;const C=rs(await R[w](y,l),j,w);C&&(N={...C,...X(w,C.message)},B(C.message),i&&(S[E]=N))}if(!Q(N)&&(S[E]={ref:j,...N},!i))return S}}return B(!0),S};function Us(e,l){const i=l.slice(0,-1).length;let t=0;for(;t<i;)e=M(e)?t++:e[l[t++]];return e}function Rs(e){for(const l in e)if(e.hasOwnProperty(l)&&!M(e[l]))return!1;return!0}function z(e,l){const i=Array.isArray(l)?l:Be(l)?[l]:os(l),t=i.length===1?e:Us(e,i),n=i.length-1,o=i[n];return t&&delete t[o],n!==0&&(O(t)&&Q(t)||Array.isArray(t)&&Rs(t))&&z(e,i.slice(0,-1)),e}var Me=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},Ae=e=>I(e)||!ns(e);function ue(e,l){if(Ae(e)||Ae(l))return e===l;if(he(e)&&he(l))return e.getTime()===l.getTime();const i=Object.keys(e),t=Object.keys(l);if(i.length!==t.length)return!1;for(const n of i){const o=e[n];if(!t.includes(n))return!1;if(n!=="ref"){const u=l[n];if(he(o)&&he(u)||O(o)&&O(u)||Array.isArray(o)&&Array.isArray(u)?!ue(o,u):o!==u)return!1}}return!0}var ds=e=>e.type==="select-multiple",Bs=e=>ze(e)||be(e),Oe=e=>ke(e)&&e.isConnected,fs=e=>{for(const l in e)if(ne(e[l]))return!0;return!1};function Ve(e,l={}){const i=Array.isArray(e);if(O(e)||i)for(const t in e)Array.isArray(e[t])||O(e[t])&&!fs(e[t])?(l[t]=Array.isArray(e[t])?[]:{},Ve(e[t],l[t])):I(e[t])||(l[t]=!0);return l}function hs(e,l,i){const t=Array.isArray(e);if(O(e)||t)for(const n in e)Array.isArray(e[n])||O(e[n])&&!fs(e[n])?M(l)||Ae(i[n])?i[n]=Array.isArray(e[n])?Ve(e[n],[]):{...Ve(e[n])}:hs(e[n],I(l)?{}:l[n],i[n]):i[n]=!ue(e[n],l[n]);return i}var je=(e,l)=>hs(e,l,Ve(l)),xs=(e,{valueAsNumber:l,valueAsDate:i,setValueAs:t})=>M(e)?e:l?e===""?NaN:e&&+e:i&&se(e)?new Date(e):t?t(e):e;function Te(e){const l=e.ref;if(!(e.refs?e.refs.every(i=>i.disabled):l.disabled))return qe(l)?l.files:ze(l)?us(e.refs).value:ds(l)?[...l.selectedOptions].map(({value:i})=>i):be(l)?cs(e.refs).value:xs(M(l.value)?e.ref.value:l.value,e)}var qs=(e,l,i,t)=>{const n={};for(const o of e){const u=x(l,o);u&&F(n,o,u._f)}return{criteriaMode:i,names:[...e],fields:n,shouldUseNativeValidation:t}},ye=e=>M(e)?e:_e(e)?e.source:O(e)?_e(e.value)?e.value.source:e.value:e,zs=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ls(e,l,i){const t=x(e,i);if(t||Be(i))return{error:t,name:i};const n=i.split(".");for(;n.length;){const o=n.join("."),u=x(l,o),b=x(e,o);if(u&&!Array.isArray(u)&&i!==o)return{name:i};if(b&&b.type)return{name:o,error:b};n.pop()}return{name:i}}var Is=(e,l,i,t,n)=>n.isOnAll?!1:!i&&n.isOnTouch?!(l||e):(i?t.isOnBlur:n.isOnBlur)?!e:(i?t.isOnChange:n.isOnChange)?e:!0,Ps=(e,l)=>!pe(x(e,l)).length&&z(e,l);const Hs={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function $s(e={},l){let i={...Hs,...e},t={submitCount:0,isDirty:!1,isLoading:ne(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:i.errors||{},disabled:i.disabled||!1},n={},o=O(i.values)||O(i.defaultValues)?W(i.values||i.defaultValues)||{}:{},u=i.shouldUnregister?{}:W(o),b={action:!1,mount:!1,watch:!1},p={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,D=0;const A={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Me(),array:Me(),state:Me()},R=Je(i.mode),E=Je(i.reValidateMode),Y=i.criteriaMode===G.all,J=s=>a=>{clearTimeout(D),D=setTimeout(s,a)},L=async s=>{if(A.isValid||s){const a=i.resolver?Q((await H()).errors):await Z(n,!0);a!==t.isValid&&v.state.next({isValid:a})}},y=s=>A.isValidating&&v.state.next({isValidating:s}),j=(s,a=[],c,h,f=!0,d=!0)=>{if(h&&c){if(b.action=!0,d&&Array.isArray(x(n,s))){const g=c(x(n,s),h.argA,h.argB);f&&F(n,s,g)}if(d&&Array.isArray(x(t.errors,s))){const g=c(x(t.errors,s),h.argA,h.argB);f&&F(t.errors,s,g),Ps(t.errors,s)}if(A.touchedFields&&d&&Array.isArray(x(t.touchedFields,s))){const g=c(x(t.touchedFields,s),h.argA,h.argB);f&&F(t.touchedFields,s,g)}A.dirtyFields&&(t.dirtyFields=je(o,u)),v.state.next({name:s,isDirty:w(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else F(u,s,a)},B=(s,a)=>{F(t.errors,s,a),v.state.next({errors:t.errors})},S=s=>{t.errors=s,v.state.next({errors:t.errors,isValid:!1})},te=(s,a,c,h)=>{const f=x(n,s);if(f){const d=x(u,s,M(c)?x(o,s):c);M(d)||h&&h.defaultChecked||a?F(u,s,a?d:Te(f._f)):P(s,d),b.mount&&L()}},re=(s,a,c,h,f)=>{let d=!1,g=!1;const V={name:s},U=!!(x(n,s)&&x(n,s)._f.disabled);if(!c||h){A.isDirty&&(g=t.isDirty,t.isDirty=V.isDirty=w(),d=g!==V.isDirty);const ee=U||ue(x(o,s),a);g=!!(!U&&x(t.dirtyFields,s)),ee||U?z(t.dirtyFields,s):F(t.dirtyFields,s,!0),V.dirtyFields=t.dirtyFields,d=d||A.dirtyFields&&g!==!ee}if(c){const ee=x(t.touchedFields,s);ee||(F(t.touchedFields,s,c),V.touchedFields=t.touchedFields,d=d||A.touchedFields&&ee!==c)}return d&&f&&v.state.next(V),d?V:{}},ce=(s,a,c,h)=>{const f=x(t.errors,s),d=A.isValid&&ae(a)&&t.isValid!==a;if(e.delayError&&c?(_=J(()=>B(s,c)),_(e.delayError)):(clearTimeout(D),_=null,c?F(t.errors,s,c):z(t.errors,s)),(c?!ue(f,c):f)||!Q(h)||d){const g={...h,...d&&ae(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},v.state.next(g)}y(!1)},H=async s=>i.resolver(u,i.context,qs(s||p.mount,n,i.criteriaMode,i.shouldUseNativeValidation)),X=async s=>{const{errors:a}=await H(s);if(s)for(const c of s){const h=x(a,c);h?F(t.errors,c,h):z(t.errors,c)}else t.errors=a;return a},Z=async(s,a,c={valid:!0})=>{for(const h in s){const f=s[h];if(f){const{_f:d,...g}=f;if(d){const V=p.array.has(d.name),U=await is(f,u,Y,i.shouldUseNativeValidation&&!a,V);if(U[d.name]&&(c.valid=!1,a))break;!a&&(x(U,d.name)?V?Ts(t.errors,U,d.name):F(t.errors,d.name,U[d.name]):z(t.errors,d.name))}g&&await Z(g,a,c)}}return c.valid},N=()=>{for(const s of p.unMount){const a=x(n,s);a&&(a._f.refs?a._f.refs.every(c=>!Oe(c)):!Oe(a._f.ref))&&Fe(s)}p.unMount=new Set},w=(s,a)=>(s&&a&&F(u,s,a),!ue(Se(),o)),C=(s,a,c)=>Ms(s,p,{...b.mount?u:M(a)?o:se(s)?{[s]:a}:a},c,a),q=s=>pe(x(b.mount?u:o,s,e.shouldUnregister?x(o,s,[]):[])),P=(s,a,c={})=>{const h=x(n,s);let f=a;if(h){const d=h._f;d&&(!d.disabled&&F(u,s,xs(a,d)),f=ke(d.ref)&&I(a)?"":a,ds(d.ref)?[...d.ref.options].forEach(g=>g.selected=f.includes(g.value)):d.refs?be(d.ref)?d.refs.length>1?d.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(f)?!!f.find(V=>V===g.value):f===g.value)):d.refs[0]&&(d.refs[0].checked=!!f):d.refs.forEach(g=>g.checked=g.value===f):qe(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||v.values.next({name:s,values:{...u}})))}(c.shouldDirty||c.shouldTouch)&&re(s,f,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&me(s)},$=(s,a,c)=>{for(const h in a){const f=a[h],d=`${s}.${h}`,g=x(n,d);(p.array.has(s)||!Ae(f)||g&&!g._f)&&!he(f)?$(d,f,c):P(d,f,c)}},m=(s,a,c={})=>{const h=x(n,s),f=p.array.has(s),d=W(a);F(u,s,d),f?(v.array.next({name:s,values:{...u}}),(A.isDirty||A.dirtyFields)&&c.shouldDirty&&v.state.next({name:s,dirtyFields:je(o,u),isDirty:w(s,d)})):h&&!h._f&&!I(d)?$(s,d,c):P(s,d,c),Xe(s,p)&&v.state.next({...t}),v.values.next({name:s,values:{...u}}),!b.mount&&l()},T=async s=>{const a=s.target;let c=a.name,h=!0;const f=x(n,c),d=()=>a.type?Te(f._f):Vs(s),g=V=>{h=Number.isNaN(V)||V===x(u,c,V)};if(f){let V,U;const ee=d(),de=s.type===Ge.BLUR||s.type===Ge.FOCUS_OUT,bs=!zs(f._f)&&!i.resolver&&!x(t.errors,c)&&!f._f.deps||Is(de,x(t.touchedFields,c),t.isSubmitted,E,R),Ce=Xe(c,p,de);F(u,c,ee),de?(f._f.onBlur&&f._f.onBlur(s),_&&_(0)):f._f.onChange&&f._f.onChange(s);const De=re(c,ee,de,!1),ps=!Q(De)||Ce;if(!de&&v.values.next({name:c,type:s.type,values:{...u}}),bs)return A.isValid&&L(),ps&&v.state.next({name:c,...Ce?{}:De});if(!de&&Ce&&v.state.next({...t}),y(!0),i.resolver){const{errors:Ye}=await H([c]);if(g(ee),h){const js=ls(t.errors,n,c),Ze=ls(Ye,n,js.name||c);V=Ze.error,c=Ze.name,U=Q(Ye)}}else V=(await is(f,u,Y,i.shouldUseNativeValidation))[c],g(ee),h&&(V?U=!1:A.isValid&&(U=await Z(n,!0)));h&&(f._f.deps&&me(f._f.deps),ce(c,U,V,De))}},ie=(s,a)=>{if(x(t.errors,a)&&s.focus)return s.focus(),1},me=async(s,a={})=>{let c,h;const f=Ee(s);if(y(!0),i.resolver){const d=await X(M(s)?s:f);c=Q(d),h=s?!f.some(g=>x(d,g)):c}else s?(h=(await Promise.all(f.map(async d=>{const g=x(n,d);return await Z(g&&g._f?{[d]:g}:g)}))).every(Boolean),!(!h&&!t.isValid)&&L()):h=c=await Z(n);return v.state.next({...!se(s)||A.isValid&&c!==t.isValid?{}:{name:s},...i.resolver||!s?{isValid:c}:{},errors:t.errors,isValidating:!1}),a.shouldFocus&&!h&&ve(n,ie,s?f:p.mount),h},Se=s=>{const a={...o,...b.mount?u:{}};return M(s)?a:se(s)?x(a,s):s.map(c=>x(a,c))},Ie=(s,a)=>({invalid:!!x((a||t).errors,s),isDirty:!!x((a||t).dirtyFields,s),isTouched:!!x((a||t).touchedFields,s),error:x((a||t).errors,s)}),gs=s=>{s&&Ee(s).forEach(a=>z(t.errors,a)),v.state.next({errors:s?t.errors:{}})},Pe=(s,a,c)=>{const h=(x(n,s,{_f:{}})._f||{}).ref;F(t.errors,s,{...a,ref:h}),v.state.next({name:s,errors:t.errors,isValid:!1}),c&&c.shouldFocus&&h&&h.focus&&h.focus()},ms=(s,a)=>ne(s)?v.values.subscribe({next:c=>s(C(void 0,a),c)}):C(s,a,!0),Fe=(s,a={})=>{for(const c of s?Ee(s):p.mount)p.mount.delete(c),p.array.delete(c),a.keepValue||(z(n,c),z(u,c)),!a.keepError&&z(t.errors,c),!a.keepDirty&&z(t.dirtyFields,c),!a.keepTouched&&z(t.touchedFields,c),!i.shouldUnregister&&!a.keepDefaultValue&&z(o,c);v.values.next({values:{...u}}),v.state.next({...t,...a.keepDirty?{isDirty:w()}:{}}),!a.keepIsValid&&L()},He=({disabled:s,name:a,field:c,fields:h,value:f})=>{if(ae(s)){const d=s?void 0:M(f)?Te(c?c._f:x(h,a)._f):f;F(u,a,d),re(a,d,!1,!1,!0)}},Le=(s,a={})=>{let c=x(n,s);const h=ae(a.disabled);return F(n,s,{...c||{},_f:{...c&&c._f?c._f:{ref:{name:s}},name:s,mount:!0,...a}}),p.mount.add(s),c?He({field:c,disabled:a.disabled,name:s,value:a.value}):te(s,!0,a.value),{...h?{disabled:a.disabled}:{},...i.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:s,onChange:T,onBlur:T,ref:f=>{if(f){Le(s,a),c=x(n,s);const d=M(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=Bs(d),V=c._f.refs||[];if(g?V.find(U=>U===d):d===c._f.ref)return;F(n,s,{_f:{...c._f,...g?{refs:[...V.filter(Oe),d,...Array.isArray(x(o,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),te(s,!1,void 0,d)}else c=x(n,s,{}),c._f&&(c._f.mount=!1),(i.shouldUnregister||a.shouldUnregister)&&!(Fs(p.array,s)&&b.action)&&p.unMount.add(s)}}},$e=()=>i.shouldFocusError&&ve(n,ie,p.mount),ys=s=>{ae(s)&&(v.state.next({disabled:s}),ve(n,(a,c)=>{let h=s;const f=x(n,c);f&&ae(f._f.disabled)&&(h||(h=f._f.disabled)),a.disabled=h},0,!1))},We=(s,a)=>async c=>{let h;c&&(c.preventDefault&&c.preventDefault(),c.persist&&c.persist());let f=W(u);if(v.state.next({isSubmitting:!0}),i.resolver){const{errors:d,values:g}=await H();t.errors=d,f=g}else await Z(n);if(z(t.errors,"root"),Q(t.errors)){v.state.next({errors:{}});try{await s(f,c)}catch(d){h=d}}else a&&await a({...t.errors},c),$e(),setTimeout($e);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Q(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},vs=(s,a={})=>{x(n,s)&&(M(a.defaultValue)?m(s,W(x(o,s))):(m(s,a.defaultValue),F(o,s,W(a.defaultValue))),a.keepTouched||z(t.touchedFields,s),a.keepDirty||(z(t.dirtyFields,s),t.isDirty=a.defaultValue?w(s,W(x(o,s))):w()),a.keepError||(z(t.errors,s),A.isValid&&L()),v.state.next({...t}))},Ke=(s,a={})=>{const c=s?W(s):o,h=W(c),f=s&&!Q(s)?h:o;if(a.keepDefaultValues||(o=c),!a.keepValues){if(a.keepDirtyValues)for(const d of p.mount)x(t.dirtyFields,d)?F(f,d,x(u,d)):m(d,x(f,d));else{if(Re&&M(s))for(const d of p.mount){const g=x(n,d);if(g&&g._f){const V=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(ke(V)){const U=V.closest("form");if(U){U.reset();break}}}}n={}}u=e.shouldUnregister?a.keepDefaultValues?W(o):{}:W(f),v.array.next({values:{...f}}),v.values.next({values:{...f}})}p={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!b.mount&&l(),b.mount=!A.isValid||!!a.keepIsValid||!!a.keepDirtyValues,b.watch=!!e.shouldUnregister,v.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ue(s,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:a.keepDirtyValues?a.keepDefaultValues&&u?je(o,u):t.dirtyFields:a.keepDefaultValues&&s?je(o,s):{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(s,a)=>Ke(ne(s)?s(u):s,a);return{control:{register:Le,unregister:Fe,getFieldState:Ie,handleSubmit:We,setError:Pe,_executeSchema:H,_getWatch:C,_getDirty:w,_updateValid:L,_removeUnmounted:N,_updateFieldArray:j,_updateDisabledField:He,_getFieldArray:q,_reset:Ke,_resetDefaultValues:()=>ne(i.defaultValues)&&i.defaultValues().then(s=>{Qe(s,i.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:ys,_subjects:v,_proxyFormState:A,_setErrors:S,get _fields(){return n},get _formValues(){return u},get _state(){return b},set _state(s){b=s},get _defaultValues(){return o},get _names(){return p},set _names(s){p=s},get _formState(){return t},set _formState(s){t=s},get _options(){return i},set _options(s){i={...i,...s}}},trigger:me,register:Le,handleSubmit:We,watch:ms,setValue:m,getValues:Se,reset:Qe,resetField:vs,clearErrors:gs,unregister:Fe,setError:Pe,setFocus:(s,a={})=>{const c=x(n,s),h=c&&c._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),a.shouldSelect&&f.select())}},getFieldState:Ie}}function Ws(e={}){const l=K.useRef(),i=K.useRef(),[t,n]=K.useState({isDirty:!1,isValidating:!1,isLoading:ne(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ne(e.defaultValues)?void 0:e.defaultValues});l.current||(l.current={...$s(e,()=>n(u=>({...u}))),formState:t});const o=l.current.control;return o._options=e,Es({subject:o._subjects.state,next:u=>{Ds(u,o._proxyFormState,o._updateFormState,!0)&&n({...o._formState})}}),K.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),K.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==t.isDirty&&o._subjects.state.next({isDirty:u})}},[o,t.isDirty]),K.useEffect(()=>{e.values&&!ue(e.values,i.current)?(o._reset(e.values,o._options.resetOptions),i.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[e.values,o]),K.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),K.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),K.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),l.current.formState=Cs(t,o),l.current}const Ks=()=>{const[e,l]=k.useState(!1),[i,t]=k.useState(!1),{register:n,handleSubmit:o,errors:u}=Ws(),b=p=>{console.log(p),t(!0),xe.post(`${ge}/pick-pack/create/user`,{name:p.name,last_name:p.last_name,email:p.email,password:p.password}).then(_=>{console.log(_),oe.success("Usuario creado exitosamente"),l(!1)}).catch(_=>{console.log(_),oe.error("Ups algo salio mal, intenta de nuevo")}).finally(()=>t(!1))};return r.jsxs("div",{className:"",children:[r.jsx("div",{className:"fixed bottom-2 left-2 z-20",children:r.jsx("div",{onClick:()=>l(!e),className:"bg-blue-500 py-2 px-3 rounded-lg cursor-pointer",children:r.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 640 512",fill:"currentColor",height:"1em",width:"1em",children:r.jsx("path",{d:"M352 128c0 70.7-57.3 128-128 128S96 198.7 96 128 153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312v-64h-64c-13.3 0-24-10.7-24-24s10.7-24 24-24h64v-64c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24h-64v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"})})})}),r.jsx(Ne,{isOpen:e,setIsOpen:l,children:r.jsxs("div",{className:"p-7",children:[r.jsx("div",{className:"text-center font-semibold text-xl",children:"Agregar Picker"}),r.jsxs("form",{onSubmit:o(b),className:"",children:[r.jsxs("label",{className:"form-control w-full max-w-xs",children:[r.jsx("div",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Nombre(s):"})}),r.jsx("input",{...n("name",{required:!0}),type:"text",placeholder:`Elsa Porrico\r
\r
              `,className:"input input-bordered w-full max-w-xs"})]})," ",r.jsxs("label",{className:"form-control w-full max-w-xs",children:[r.jsx("div",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Apellidos:"})}),r.jsx("input",{...n("last_name",{required:!0}),type:"text",placeholder:"Willy Melano",className:"input input-bordered w-full max-w-xs"})]}),r.jsxs("label",{className:"form-control w-full max-w-xs",children:[r.jsx("div",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Correo electronico:"})}),r.jsx("input",{...n("email",{required:!0}),type:"text",placeholder:"@example.com",className:"input input-bordered w-full max-w-xs"})]}),r.jsxs("label",{className:"form-control w-full max-w-xs",children:[r.jsx("div",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Contraseña:"})}),r.jsx("input",{...n("password",{required:!0}),type:"text",placeholder:"********",className:"input input-bordered w-full max-w-xs"})]}),r.jsx("div",{className:"text-center mt-4",children:i?r.jsx("span",{className:"loading loading-spinner text-info"}):r.jsx("button",{type:"submit",className:"euro-btn w-3/4",children:"Enviar"})})]})]})})]})},Qs=({isOpen:e,setIsOpen:l,orderId:i})=>{const{user:t}=Ue(),[n,o]=k.useState([{name:"queja",color:"#3498db"},{name:"paqueteria",color:"#e74c3c"},{name:"clientes info",color:"#9b59b6"}]),[u,b]=k.useState({}),[p,_]=k.useState(!1),[D,A]=k.useState({}),[v,R]=k.useState(!1),[E,Y]=k.useState(!1),[J,L]=k.useState(!1),y=k.useRef(null);function j(){l(!e)}function B(){_(!e)}const[S,te]=k.useState(""),[re,ce]=k.useState(!1),[H,X]=k.useState([]),Z=()=>{const m={type:"text",text:S,tag:u.name,id_user:t.id};q(m),ce(!1)};function N(m){_(!0),A({type:m.fileList[0].type,base64:m.base64})}function w(){if(D.type){const m={src:D.base64,type:"image",tag:u.name,id_user:t.id};q(m)}_(!1)}function C(m){const T=m,ie=new Date(T);if(isNaN(ie))return"Ahora";{const me={day:"2-digit",month:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:!1};return ie.toLocaleString("en-GB",me)}}function q(m){Object.keys(u).length>0?(R(!0),xe.post(`${ge}/pick-pack/message/${i}`,m).then(T=>{console.log(T),X(ie=>[...ie,m]),b({}),te("")}).catch(T=>{console.log(T),oe.error("Ups, no se pudo enviar el mensaje")}).finally(()=>{R(!1)})):(oe.error("Elige una etiqueta"),L(!0))}function P(){Y(!0),xe.get(`${ge}/pick-pack/message/${i}`).then(m=>{X(m.data),console.log(m.data)}).catch(m=>{console.log(m)}).finally(()=>{Y(!1)})}function $(m){switch(m){case"queja":return"#3498db";case"paqueteria":return"#e74c3c";case"clientes info":return"#9b59b6";default:return"#3f3d3d"}}return k.useEffect(()=>{e&&P()},[e]),k.useEffect(()=>{var m;(m=y.current)==null||m.scrollIntoView()},[H]),r.jsx("div",{className:"",children:r.jsx("div",{className:" ",children:r.jsxs(Ne,{handleModal:j,isOpen:e,setIsOpen:l,children:[r.jsxs("div",{id:"labels",className:`fixed overflow-hidden  space-y-4 bottom-0 transition-all   duration-300 w-full bg-gray-100  ${J?"opacity-100 z-40":"opacity-0 -z-10"}  p-4`,children:[r.jsx("div",{className:"absolute right-2 top-2",children:r.jsx("button",{onClick:()=>L(!1),className:" btn btn-circle btn-accent btn-sm",children:"x"})}),n.map((m,T)=>r.jsx("label",{className:"flex items-center gap-2 cursor-pointer",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"radio",id:`radio-${T}`,name:"radio-group",onChange:()=>{b(m),L(!1)},className:"radio radio-info"}),r.jsx("div",{style:{backgroundColor:m.color},className:"text-white font-bold text-sm py-1 px-2 rounded-full",children:m.name})]})},T))]}),E&&r.jsx("div",{className:"bg-white absolute flex justify-center w-full bg-opacity-70 z-50 h-full ",children:r.jsx("span",{className:"loading loading-bars loading-lg"})}),r.jsxs("div",{className:"h-[440px]  bg-white relative overflow-y-auto",children:[r.jsx("div",{id:"emoji_picker",className:`-translate-x-1/2 left-1/2 fixed top-10 ${re?"opacity-100 z-10":"opacity-0 -z-10"}`,children:r.jsx(ws,{onChange:m=>{te(T=>T.concat(m.unicode))}})}),r.jsxs("div",{className:" w-full p-2  fixed flex justify-between items-center  z-10 bg-gray-100",children:[r.jsxs("div",{className:"font-bold",children:["Orden: ",i]}),r.jsx("div",{children:r.jsxs("div",{id:"btn-labels",style:{backgroundColor:Object.keys(u).length===0?"#404041":u.color},onClick:()=>{L(!J),console.log("butn show label")},className:"flex p-1 text-white select-none cursor-pointer items-center gap-1  rounded-md",children:[r.jsx("div",{children:r.jsxs("svg",{viewBox:"0 0 20 16",fill:"currentColor",height:"1em",width:"1em",className:"text-white",children:[r.jsx("path",{fill:"currentColor",d:"M19.25 0h-6c-.412 0-.989.239-1.28.53L4.531 7.969a.752.752 0 000 1.061l6.439 6.439a.752.752 0 001.061 0L19.47 8.03c.292-.292.53-.868.53-1.28v-6a.752.752 0 00-.75-.75zM15.5 6a1.5 1.5 0 11.001-3.001A1.5 1.5 0 0115.5 6z"}),r.jsx("path",{fill:"currentColor",d:"M2 8.5L10.5 0H9.25c-.412 0-.989.239-1.28.53L.531 7.969a.752.752 0 000 1.061l6.439 6.439a.752.752 0 001.061 0l.47-.47-6.5-6.5z"})]})}),r.jsx("div",{children:Object.keys(u).length===0?"Etiquetas":u.name})]})})]}),r.jsxs("div",{id:"bubble messages",className:"py-2 px-2 flex flex-col gap-4 relative",children:[H.map((m,T)=>r.jsx("div",{className:"flex items-start gap-2.5",children:r.jsxs("div",{className:"flex flex-col w-full max-w-[320px] leading-1.5 p-4 border-gray-200 bg-gray-200 rounded-e-xl rounded-es-xl ",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 ",children:m.user&&m.id_user===t.id?"Tú":m.user&&m.user.name_user}),r.jsx("span",{className:"text-sm font-normal text-gray-500 ",children:C(m.updatedAt)})]}),r.jsxs("p",{className:"text-sm font-normal py-2.5 text-gray-900",children:[m.type==="text"&&r.jsx("span",{children:m.text}),m.type==="image"&&r.jsx("span",{children:r.jsx("img",{className:"w-56 cursor-pointer",src:m.src,alt:""})})]}),r.jsx("div",{children:r.jsx("div",{style:{backgroundColor:$(m.tag)},className:"inline-block px-2 text-sm font-normal rounded-lg   text-white ",children:m.tag})})]})},T)),r.jsx("div",{ref:y}),v&&r.jsxs("div",{className:"flex justify-start items-center gap-2",children:["Enviando",r.jsx("span",{className:"loading loading-spinner loading-md"})]})]})]}),r.jsx("div",{className:"h-20 bg-gray-200 flex w-full rounded-md p-1 items-center",children:r.jsxs("div",{className:"flex  items-center p-2 bg-white border rounded-full w-full",children:[r.jsx("input",{autoFocus:!1,value:S,className:"flex h-10 w-full bg-white border-input  text-sm text-black ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-black focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 flex-1 rounded-full px-4 py-2 border-0",placeholder:"Escribe Algo...",onChange:m=>{te(m.target.value)}}),r.jsx(Ns,{base64:!0,handleFiles:N,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-2 text-gray-600 cursor-pointer hover:text-blue-500",children:r.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"})})}),re?r.jsx("div",{id:"cross_svg",onClick:()=>ce(!1),children:r.jsx("svg",{className:"text-black mx-2 cursor-pointer",fill:"none",viewBox:"0 0 15 15",height:"24",width:"24",children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.854 2.854a.5.5 0 00-.708-.708L7.5 6.793 2.854 2.146a.5.5 0 10-.708.708L6.793 7.5l-4.647 4.646a.5.5 0 00.708.708L7.5 8.207l4.646 4.647a.5.5 0 00.708-.708L8.207 7.5l4.647-4.646z",clipRule:"evenodd"})})}):r.jsx("div",{onClick:()=>ce(!0),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-2 text-gray-600 cursor-pointer hover:text-blue-500",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),r.jsx("line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}),r.jsx("line",{x1:"15",x2:"15.01",y1:"9",y2:"9"})]})}),S.length>0?r.jsx("div",{id:"arrow_send",onClick:Z,children:r.jsx("svg",{viewBox:"0 0 512 512",fill:"currentColor",height:"24",className:"mx-2 text-blue-500 cursor-pointer",width:"24",children:r.jsx("path",{d:"M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z"})})}):r.jsxs("svg",{onClick:()=>oe("Coming Soon...",{icon:"⌛️",position:"bottom-center"}),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-2 text-gray-600 cursor-pointer hover:text-black",children:[r.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),r.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),r.jsx("line",{x1:"12",x2:"12",y1:"19",y2:"22"})]})]})}),r.jsx("div",{className:"bg-blue-300 flex items-center"}),r.jsx(Ne,{id:"modal-file",isOpen:p,handleModal:B,setIsOpen:_,children:D.type&&D.type.includes("image")&&r.jsxs("div",{className:"",children:[r.jsx("img",{src:D.base64,className:"",alt:""}),r.jsxs("div",{className:"my-5 flex justify-evenly",children:[r.jsxs("button",{onClick:()=>{_(!1),A({})},className:"inline-flex items-center gap-1 justify-center text-sm ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input hover:text-accent-foreground h-10 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:[r.jsx("svg",{fill:"none",viewBox:"0 0 24 24",height:"18",width:"18",children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M17 6V5a2 2 0 00-2-2H9a2 2 0 00-2 2v1H4a1 1 0 000 2h1v11a3 3 0 003 3h8a3 3 0 003-3V8h1a1 1 0 100-2h-3zm-2-1H9v1h6V5zm2 3H7v11a1 1 0 001 1h8a1 1 0 001-1V8z",clipRule:"evenodd"})}),"Descartar"]}),r.jsxs("button",{onClick:w,className:"inline-flex gap-1 items-center justify-center text-sm ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:[r.jsx("svg",{fill:"none",viewBox:"0 0 15 15",height:"18",width:"18",children:r.jsx("path",{fill:"currentColor",d:"M14.954.71a.5.5 0 01-.1.144L5.4 10.306l2.67 4.451a.5.5 0 00.889-.06L14.954.71zM4.694 9.6L.243 6.928a.5.5 0 01.06-.889L14.293.045a.5.5 0 00-.146.101L4.694 9.6z"})}),"Enviar"]})]})]})})]})})})},Ys=()=>{const[e,l]=k.useState(!1),[i,t]=k.useState(!1),[n,o]=k.useState({}),[u,b]=k.useState([]),{fulFillmentUsers:p,setFulFillmentUsers:_}=Ue(),[D,A]=k.useState([]),[v,R]=k.useState([]);function E(j){t(!0),o(j)}const Y=j=>{if(j===3)return"Listo para manejo 🚚";if(j===4)return"Surtiendo 🛒";if(j===5)return"Surtido ✅";if(j===6)return"Empacando 📦";if(j===7)return"Empacado 📦✅"};function J(){b(!0),xe.get(`${ge}/pick-pack/orders_status`,{params:{status:[3,4,5,6,7]}}).then(j=>{console.log(j.data),A(j.data.ordersList),R(j.data.ordersList)}).catch(j=>{console.log(j),oe.error("Ocurrio un error al intentar obtener las ordenes")}).finally(()=>b(!1))}function L(j){const B=D.find(S=>S.idVtex_order===j);console.log(B),R(B?[B]:D)}function y(){xe.get(`${ge}/pick-pack/fulfillment/users`).then(j=>{_(j.data)}).catch(j=>{console.log(j)})}return k.useEffect(()=>{J(),y()},[]),r.jsxs("div",{className:"",children:[r.jsx(Ks,{}),r.jsx("div",{className:"sticky top-20  bg-white z-20",children:r.jsx(as,{onHandleQuery:L,placeHolderValue:"Busca una orden"})}),r.jsx("div",{className:"overflow-x-auto w-screen",children:r.jsxs("table",{className:"table text-center table-pin-rows table-sm table-zebra",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"",children:[r.jsx("th",{className:"",children:"Orden"}),r.jsx("th",{children:"Estatus"}),r.jsx("th",{children:"Asignar"}),r.jsx("th",{children:"Notas"})]})}),r.jsx("tbody",{children:v.map((j,B)=>r.jsxs("tr",{children:[r.jsx("td",{children:j.idVtex_order}),r.jsx("td",{className:"",children:r.jsx("span",{className:"",children:Y(j.status2_order)})}),r.jsx("td",{children:r.jsx("div",{className:"btn btn-sm",onClick:()=>{E(j)},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",height:"1em",width:"1em",className:"w-7 h-7",children:r.jsx("path",{d:"M21.7 13.35l-1 1-2.05-2.05 1-1a.55.55 0 01.77 0l1.28 1.28c.21.21.21.56 0 .77M12 18.94l6.06-6.06 2.05 2.05L14.06 21H12v-2.06M12 14c-4.42 0-8 1.79-8 4v2h6v-1.89l4-4c-.66-.08-1.33-.11-2-.11m0-10a4 4 0 00-4 4 4 4 0 004 4 4 4 0 004-4 4 4 0 00-4-4z"})})})}),r.jsx("td",{onClick:()=>{console.log("clic"),o(j),l(!e)},children:r.jsx("div",{className:"btn btn-sm",children:r.jsx("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"currentColor",height:"1em",width:"1em",children:r.jsx("path",{d:"M8.5 18l3.5 4 3.5-4H19c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h3.5zM7 7h10v2H7V7zm0 4h7v2H7v-2z"})})})})]},B))})]})}),u&&r.jsx("div",{className:"text-center mt-10",children:r.jsx("span",{className:"loading loading-dots loading-lg"})}),r.jsx(As,{opening:i,rowSelected:n,changeState:t}),r.jsx(Qs,{isOpen:e,orderId:n.idVtex_order,setIsOpen:l})]})},tt=()=>r.jsx(ks,{children:r.jsx(Ys,{})});export{tt as default};
