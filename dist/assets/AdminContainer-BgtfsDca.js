import{r as _,j as r,a as Re,b as ge,c as me,_ as ce,R as Q,u as ws}from"./index-CjXT-2kf.js";import{M as ke,E as Ns,_ as ks,N as _s}from"./NavBar-D09-y_UA.js";function As(e=[]){const[l,i]=_.useState(e);return{list:l,toggleList:n=>{if(l.includes(n)){const o=l.filter(d=>d!==n);i(o)}else i([...l,n])},setList:i}}const as=({onHandleQuery:e,placeHolderValue:l="Buscar"})=>r.jsxs("form",{className:"w-full mx-auto m-4 px-4",children:[r.jsx("label",{htmlFor:"default-search",className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),r.jsx("input",{type:"search",id:"default-search",className:"block w-full transition-all duration-500 p-2 ps-10  text-gray-900 border border-gray-300 rounded-full bg-gray-50 focus:ring-blue-500 focus:border-blue-500  dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:l,required:!0,onChange:i=>{e(i.target.value)}})]})]}),Vs=({opening:e,changeState:l,rowSelected:i})=>{const{fulFillmentUsers:t}=Re(),[n,o]=_.useState([]),[d,y]=_.useState(!1),[p,V]=_.useState(n),[L,k]=_.useState(1),{list:b,toggleList:I,setList:C}=As();function G(){y(!0),ge.post(`${me}/pick-pack/order_assigment/${i.idVtex_order}/${L}`,{data:b}).then(()=>{ce.success("Cambios enviados!"),l(!1)}).catch(E=>{console.log(E),ce.error("ups ocurrio un error intenta de nuevo")}).finally(()=>y(!1))}function J(E){const v=n.filter(j=>j.name_user.toLowerCase().includes(E.toLowerCase()));v.length>0?V(v):V(n)}return _.useEffect(()=>{o(t),V(t)},[i]),_.useEffect(()=>{L===1?i.picking_assigment!==null?C(i.picking_assigment):C([]):i.packing_assigment!==null?C(i.packing_assigment):C([])},[L,i]),r.jsxs(ke,{isOpen:e,setIsOpen:l,children:[r.jsxs("div",{id:"options",className:"flex justify-center gap-8 p-2",children:[r.jsx("div",{onClick:()=>k(1),className:`transition-all cursor-pointer px-5 py-3 w-1/2 text-center rounded-lg  ${L!==1?"border-2 border-blue-500 text-blue-600":"bg-blue-500 text-white"} `,children:"Pickeo"}),r.jsx("div",{onClick:()=>k(2),className:`transition-all cursor-pointer px-5 w-1/2 py-3 text-center rounded-lg  ${L!==2?"border-2 border-blue-500 text-blue-600":"bg-blue-500 text-white"} `,children:"Packing"})]}),r.jsxs("div",{className:"text-sm text-center font-semibold ",children:["Los usuarios seleccionados"," ",L===1?r.jsx("span",{className:"text-info px-3",children:"ALISTARÁN ✅"}):r.jsx("span",{className:"text-emerald-400 px-3",children:"EPACANRÁN📦"})," ","la orden ",i.idVtex_order]}),r.jsx(as,{placeHolderValue:"Buscar Picker",onHandleQuery:J}),r.jsxs("div",{className:"overflow-x-auto max-h-96 mb-16",children:[r.jsxs("table",{className:"table table-pin-cols",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Nombre"}),r.jsx("th",{children:"XP"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:p.map((E,v)=>r.jsxs("tr",{className:"cursor-pointer",onClick:()=>I(E.id_user),children:[r.jsx("td",{children:r.jsx("div",{className:"",children:r.jsx("div",{className:"avatar",children:r.jsx("div",{className:"mask mask-squircle w-10 h-10",children:r.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQx99bK-uLFqLyjp6cPQY8kJbEcsc6u4pedrPxNIZYTrKValUzf3SoYf-8uhv9EmjYAs9I&usqp=CAU",alt:"Avatar Tailwind CSS Component"})})})})}),r.jsx("td",{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-bold",children:E.name_user}),r.jsx("div",{className:"text-sm opacity-50",children:"027"})]})}),r.jsx("td",{children:r.jsx("div",{children:v+12})}),r.jsx("td",{className:"text-center"}),r.jsx("th",{children:r.jsx("label",{children:r.jsx("input",{type:"checkbox",className:"checkbox checkbox-info",readOnly:!0,checked:b&&b.includes(E.id_user)})})})]},v))})]}),r.jsx("div",{className:"fixed bottom-2 -translate-x-1/2 left-1/2",children:d?r.jsx("span",{className:"loading loading-infinity loading-lg text-green-500"}):r.jsx("div",{onClick:G,className:"euro-btn ",children:"Confirmar cambios"})})]})]})};var be=e=>e.type==="checkbox",xe=e=>e instanceof Date,z=e=>e==null;const ns=e=>typeof e=="object";var O=e=>!z(e)&&!Array.isArray(e)&&ns(e)&&!xe(e),Ss=e=>O(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Fs=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ls=(e,l)=>e.has(Fs(l)),Cs=e=>{const l=e.constructor&&e.constructor.prototype;return O(l)&&l.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function K(e){let l;const i=Array.isArray(e);if(e instanceof Date)l=new Date(e);else if(e instanceof Set)l=new Set(e);else if(!(Be&&(e instanceof Blob||e instanceof FileList))&&(i||O(e)))if(l=i?[]:{},!i&&!Cs(e))l=e;else for(const t in e)e.hasOwnProperty(t)&&(l[t]=K(e[t]));else return e;return l}var pe=e=>Array.isArray(e)?e.filter(Boolean):[],M=e=>e===void 0,x=(e,l,i)=>{if(!l||!O(e))return i;const t=pe(l.split(/[,[\].]+?/)).reduce((n,o)=>z(n)?n:n[o],e);return M(t)||t===e?M(e[l])?i:e[l]:t},ae=e=>typeof e=="boolean";const Ge={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},le={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Q.createContext(null);var Ds=(e,l,i,t=!0)=>{const n={defaultValues:l._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const d=o;return l._proxyFormState[d]!==Z.all&&(l._proxyFormState[d]=!t||Z.all),i&&(i[d]=!0),e[d]}});return n},Y=e=>O(e)&&!Object.keys(e).length,Es=(e,l,i,t)=>{i(e);const{name:n,...o}=e;return Y(o)||Object.keys(o).length>=Object.keys(l).length||Object.keys(o).find(d=>l[d]===(!t||Z.all))},Me=e=>Array.isArray(e)?e:[e];function Ms(e){const l=Q.useRef(e);l.current=e,Q.useEffect(()=>{const i=!e.disabled&&l.current.subject&&l.current.subject.subscribe({next:l.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}var te=e=>typeof e=="string",Os=(e,l,i,t,n)=>te(e)?(t&&l.watch.add(e),x(i,e,n)):Array.isArray(e)?e.map(o=>(t&&l.watch.add(o),x(i,o))):(t&&(l.watchAll=!0),i),Ie=e=>/^\w*$/.test(e),os=e=>pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,l,i)=>{let t=-1;const n=Ie(l)?[l]:os(l),o=n.length,d=o-1;for(;++t<o;){const y=n[t];let p=i;if(t!==d){const V=e[y];p=O(V)||Array.isArray(V)?V:isNaN(+n[t+1])?{}:[]}e[y]=p,e=e[y]}return e},Us=(e,l,i,t,n)=>l?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[t]:n||!0}}:{},Je=e=>({isOnSubmit:!e||e===Z.onSubmit,isOnBlur:e===Z.onBlur,isOnChange:e===Z.onChange,isOnAll:e===Z.all,isOnTouch:e===Z.onTouched}),Xe=(e,l,i)=>!i&&(l.watchAll||l.watch.has(e)||[...l.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ve=(e,l,i,t)=>{for(const n of i||Object.keys(e)){const o=x(e,n);if(o){const{_f:d,...y}=o;if(d){if(d.refs&&d.refs[0]&&l(d.refs[0],n)&&!t)break;if(d.ref&&l(d.ref,d.name)&&!t)break;ve(y,l)}else O(y)&&ve(y,l)}}};var Ts=(e,l,i)=>{const t=pe(x(e,i));return S(t,"root",l[i]),S(e,i,t),e},Pe=e=>e.type==="file",oe=e=>typeof e=="function",_e=e=>{if(!Be)return!1;const l=e?e.ownerDocument:0;return e instanceof(l&&l.defaultView?l.defaultView.HTMLElement:HTMLElement)},Ne=e=>te(e),qe=e=>e.type==="radio",Ae=e=>e instanceof RegExp;const es={value:!1,isValid:!1},ss={value:!0,isValid:!0};var cs=e=>{if(Array.isArray(e)){if(e.length>1){const l=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:l,isValid:!!l.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||e[0].value===""?ss:{value:e[0].value,isValid:!0}:ss:es}return es};const ts={isValid:!1,value:null};var us=e=>Array.isArray(e)?e.reduce((l,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:l,ts):ts;function rs(e,l,i="validate"){if(Ne(e)||Array.isArray(e)&&e.every(Ne)||ae(e)&&!e)return{type:i,message:Ne(e)?e:"",ref:l}}var he=e=>O(e)&&!Ae(e)?e:{value:e,message:""},is=async(e,l,i,t,n)=>{const{ref:o,refs:d,required:y,maxLength:p,minLength:V,min:L,max:k,pattern:b,validate:I,name:C,valueAsNumber:G,mount:J,disabled:E}=e._f,v=x(l,C);if(!J||E)return{};const j=d?d[0]:o,T=N=>{t&&j.reportValidity&&(j.setCustomValidity(ae(N)?"":N||""),j.reportValidity())},D={},re=qe(o),X=be(o),de=re||X,H=(G||Pe(o))&&M(o.value)&&M(v)||_e(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,ee=Us.bind(null,C,i,D),$=(N,w,F,P=le.maxLength,q=le.minLength)=>{const W=N?w:F;D[C]={type:N?P:q,message:W,ref:o,...ee(N?P:q,W)}};if(n?!Array.isArray(v)||!v.length:y&&(!de&&(H||z(v))||ae(v)&&!v||X&&!cs(d).isValid||re&&!us(d).isValid)){const{value:N,message:w}=Ne(y)?{value:!!y,message:y}:he(y);if(N&&(D[C]={type:le.required,message:w,ref:j,...ee(le.required,w)},!i))return T(w),D}if(!H&&(!z(L)||!z(k))){let N,w;const F=he(k),P=he(L);if(!z(v)&&!isNaN(v)){const q=o.valueAsNumber||v&&+v;z(F.value)||(N=q>F.value),z(P.value)||(w=q<P.value)}else{const q=o.valueAsDate||new Date(v),W=R=>new Date(new Date().toDateString()+" "+R),ie=o.type=="time",m=o.type=="week";te(F.value)&&v&&(N=ie?W(v)>W(F.value):m?v>F.value:q>new Date(F.value)),te(P.value)&&v&&(w=ie?W(v)<W(P.value):m?v<P.value:q<new Date(P.value))}if((N||w)&&($(!!N,F.message,P.message,le.max,le.min),!i))return T(D[C].message),D}if((p||V)&&!H&&(te(v)||n&&Array.isArray(v))){const N=he(p),w=he(V),F=!z(N.value)&&v.length>+N.value,P=!z(w.value)&&v.length<+w.value;if((F||P)&&($(F,N.message,w.message),!i))return T(D[C].message),D}if(b&&!H&&te(v)){const{value:N,message:w}=he(b);if(Ae(N)&&!v.match(N)&&(D[C]={type:le.pattern,message:w,ref:o,...ee(le.pattern,w)},!i))return T(w),D}if(I){if(oe(I)){const N=await I(v,l),w=rs(N,j);if(w&&(D[C]={...w,...ee(le.validate,w.message)},!i))return T(w.message),D}else if(O(I)){let N={};for(const w in I){if(!Y(N)&&!i)break;const F=rs(await I[w](v,l),j,w);F&&(N={...F,...ee(w,F.message)},T(F.message),i&&(D[C]=N))}if(!Y(N)&&(D[C]={ref:j,...N},!i))return D}}return T(!0),D};function Rs(e,l){const i=l.slice(0,-1).length;let t=0;for(;t<i;)e=M(e)?t++:e[l[t++]];return e}function Bs(e){for(const l in e)if(e.hasOwnProperty(l)&&!M(e[l]))return!1;return!0}function B(e,l){const i=Array.isArray(l)?l:Ie(l)?[l]:os(l),t=i.length===1?e:Rs(e,i),n=i.length-1,o=i[n];return t&&delete t[o],n!==0&&(O(t)&&Y(t)||Array.isArray(t)&&Bs(t))&&B(e,i.slice(0,-1)),e}var Oe=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},Ve=e=>z(e)||!ns(e);function ue(e,l){if(Ve(e)||Ve(l))return e===l;if(xe(e)&&xe(l))return e.getTime()===l.getTime();const i=Object.keys(e),t=Object.keys(l);if(i.length!==t.length)return!1;for(const n of i){const o=e[n];if(!t.includes(n))return!1;if(n!=="ref"){const d=l[n];if(xe(o)&&xe(d)||O(o)&&O(d)||Array.isArray(o)&&Array.isArray(d)?!ue(o,d):o!==d)return!1}}return!0}var ds=e=>e.type==="select-multiple",Is=e=>qe(e)||be(e),Ue=e=>_e(e)&&e.isConnected,fs=e=>{for(const l in e)if(oe(e[l]))return!0;return!1};function Se(e,l={}){const i=Array.isArray(e);if(O(e)||i)for(const t in e)Array.isArray(e[t])||O(e[t])&&!fs(e[t])?(l[t]=Array.isArray(e[t])?[]:{},Se(e[t],l[t])):z(e[t])||(l[t]=!0);return l}function hs(e,l,i){const t=Array.isArray(e);if(O(e)||t)for(const n in e)Array.isArray(e[n])||O(e[n])&&!fs(e[n])?M(l)||Ve(i[n])?i[n]=Array.isArray(e[n])?Se(e[n],[]):{...Se(e[n])}:hs(e[n],z(l)?{}:l[n],i[n]):i[n]=!ue(e[n],l[n]);return i}var we=(e,l)=>hs(e,l,Se(l)),xs=(e,{valueAsNumber:l,valueAsDate:i,setValueAs:t})=>M(e)?e:l?e===""?NaN:e&&+e:i&&te(e)?new Date(e):t?t(e):e;function Te(e){const l=e.ref;if(!(e.refs?e.refs.every(i=>i.disabled):l.disabled))return Pe(l)?l.files:qe(l)?us(e.refs).value:ds(l)?[...l.selectedOptions].map(({value:i})=>i):be(l)?cs(e.refs).value:xs(M(l.value)?e.ref.value:l.value,e)}var Ps=(e,l,i,t)=>{const n={};for(const o of e){const d=x(l,o);d&&S(n,o,d._f)}return{criteriaMode:i,names:[...e],fields:n,shouldUseNativeValidation:t}},ye=e=>M(e)?e:Ae(e)?e.source:O(e)?Ae(e.value)?e.value.source:e.value:e,qs=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ls(e,l,i){const t=x(e,i);if(t||Ie(i))return{error:t,name:i};const n=i.split(".");for(;n.length;){const o=n.join("."),d=x(l,o),y=x(e,o);if(d&&!Array.isArray(d)&&i!==o)return{name:i};if(y&&y.type)return{name:o,error:y};n.pop()}return{name:i}}var zs=(e,l,i,t,n)=>n.isOnAll?!1:!i&&n.isOnTouch?!(l||e):(i?t.isOnBlur:n.isOnBlur)?!e:(i?t.isOnChange:n.isOnChange)?e:!0,Hs=(e,l)=>!pe(x(e,l)).length&&B(e,l);const $s={mode:Z.onSubmit,reValidateMode:Z.onChange,shouldFocusError:!0};function Ws(e={},l){let i={...$s,...e},t={submitCount:0,isDirty:!1,isLoading:oe(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:i.errors||{},disabled:i.disabled||!1},n={},o=O(i.values)||O(i.defaultValues)?K(i.values||i.defaultValues)||{}:{},d=i.shouldUnregister?{}:K(o),y={action:!1,mount:!1,watch:!1},p={mount:new Set,unMount:new Set,array:new Set,watch:new Set},V,L=0;const k={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Oe(),array:Oe(),state:Oe()},I=Je(i.mode),C=Je(i.reValidateMode),G=i.criteriaMode===Z.all,J=s=>a=>{clearTimeout(L),L=setTimeout(s,a)},E=async s=>{if(k.isValid||s){const a=i.resolver?Y((await H()).errors):await $(n,!0);a!==t.isValid&&b.state.next({isValid:a})}},v=s=>k.isValidating&&b.state.next({isValidating:s}),j=(s,a=[],c,h,f=!0,u=!0)=>{if(h&&c){if(y.action=!0,u&&Array.isArray(x(n,s))){const g=c(x(n,s),h.argA,h.argB);f&&S(n,s,g)}if(u&&Array.isArray(x(t.errors,s))){const g=c(x(t.errors,s),h.argA,h.argB);f&&S(t.errors,s,g),Hs(t.errors,s)}if(k.touchedFields&&u&&Array.isArray(x(t.touchedFields,s))){const g=c(x(t.touchedFields,s),h.argA,h.argB);f&&S(t.touchedFields,s,g)}k.dirtyFields&&(t.dirtyFields=we(o,d)),b.state.next({name:s,isDirty:w(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(d,s,a)},T=(s,a)=>{S(t.errors,s,a),b.state.next({errors:t.errors})},D=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},re=(s,a,c,h)=>{const f=x(n,s);if(f){const u=x(d,s,M(c)?x(o,s):c);M(u)||h&&h.defaultChecked||a?S(d,s,a?u:Te(f._f)):q(s,u),y.mount&&E()}},X=(s,a,c,h,f)=>{let u=!1,g=!1;const A={name:s},U=!!(x(n,s)&&x(n,s)._f.disabled);if(!c||h){k.isDirty&&(g=t.isDirty,t.isDirty=A.isDirty=w(),u=g!==A.isDirty);const se=U||ue(x(o,s),a);g=!!(!U&&x(t.dirtyFields,s)),se||U?B(t.dirtyFields,s):S(t.dirtyFields,s,!0),A.dirtyFields=t.dirtyFields,u=u||k.dirtyFields&&g!==!se}if(c){const se=x(t.touchedFields,s);se||(S(t.touchedFields,s,c),A.touchedFields=t.touchedFields,u=u||k.touchedFields&&se!==c)}return u&&f&&b.state.next(A),u?A:{}},de=(s,a,c,h)=>{const f=x(t.errors,s),u=k.isValid&&ae(a)&&t.isValid!==a;if(e.delayError&&c?(V=J(()=>T(s,c)),V(e.delayError)):(clearTimeout(L),V=null,c?S(t.errors,s,c):B(t.errors,s)),(c?!ue(f,c):f)||!Y(h)||u){const g={...h,...u&&ae(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},b.state.next(g)}v(!1)},H=async s=>i.resolver(d,i.context,Ps(s||p.mount,n,i.criteriaMode,i.shouldUseNativeValidation)),ee=async s=>{const{errors:a}=await H(s);if(s)for(const c of s){const h=x(a,c);h?S(t.errors,c,h):B(t.errors,c)}else t.errors=a;return a},$=async(s,a,c={valid:!0})=>{for(const h in s){const f=s[h];if(f){const{_f:u,...g}=f;if(u){const A=p.array.has(u.name),U=await is(f,d,G,i.shouldUseNativeValidation&&!a,A);if(U[u.name]&&(c.valid=!1,a))break;!a&&(x(U,u.name)?A?Ts(t.errors,U,u.name):S(t.errors,u.name,U[u.name]):B(t.errors,u.name))}g&&await $(g,a,c)}}return c.valid},N=()=>{for(const s of p.unMount){const a=x(n,s);a&&(a._f.refs?a._f.refs.every(c=>!Ue(c)):!Ue(a._f.ref))&&Le(s)}p.unMount=new Set},w=(s,a)=>(s&&a&&S(d,s,a),!ue(je(),o)),F=(s,a,c)=>Os(s,p,{...y.mount?d:M(a)?o:te(s)?{[s]:a}:a},c,a),P=s=>pe(x(y.mount?d:o,s,e.shouldUnregister?x(o,s,[]):[])),q=(s,a,c={})=>{const h=x(n,s);let f=a;if(h){const u=h._f;u&&(!u.disabled&&S(d,s,xs(a,u)),f=_e(u.ref)&&z(a)?"":a,ds(u.ref)?[...u.ref.options].forEach(g=>g.selected=f.includes(g.value)):u.refs?be(u.ref)?u.refs.length>1?u.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(f)?!!f.find(A=>A===g.value):f===g.value)):u.refs[0]&&(u.refs[0].checked=!!f):u.refs.forEach(g=>g.checked=g.value===f):Pe(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||b.values.next({name:s,values:{...d}})))}(c.shouldDirty||c.shouldTouch)&&X(s,f,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&ne(s)},W=(s,a,c)=>{for(const h in a){const f=a[h],u=`${s}.${h}`,g=x(n,u);(p.array.has(s)||!Ve(f)||g&&!g._f)&&!xe(f)?W(u,f,c):q(u,f,c)}},ie=(s,a,c={})=>{const h=x(n,s),f=p.array.has(s),u=K(a);S(d,s,u),f?(b.array.next({name:s,values:{...d}}),(k.isDirty||k.dirtyFields)&&c.shouldDirty&&b.state.next({name:s,dirtyFields:we(o,d),isDirty:w(s,u)})):h&&!h._f&&!z(u)?W(s,u,c):q(s,u,c),Xe(s,p)&&b.state.next({...t}),b.values.next({name:s,values:{...d}}),!y.mount&&l()},m=async s=>{const a=s.target;let c=a.name,h=!0;const f=x(n,c),u=()=>a.type?Te(f._f):Ss(s),g=A=>{h=Number.isNaN(A)||A===x(d,c,A)};if(f){let A,U;const se=u(),fe=s.type===Ge.BLUR||s.type===Ge.FOCUS_OUT,bs=!qs(f._f)&&!i.resolver&&!x(t.errors,c)&&!f._f.deps||zs(fe,x(t.touchedFields,c),t.isSubmitted,C,I),De=Xe(c,p,fe);S(d,c,se),fe?(f._f.onBlur&&f._f.onBlur(s),V&&V(0)):f._f.onChange&&f._f.onChange(s);const Ee=X(c,se,fe,!1),ps=!Y(Ee)||De;if(!fe&&b.values.next({name:c,type:s.type,values:{...d}}),bs)return k.isValid&&E(),ps&&b.state.next({name:c,...De?{}:Ee});if(!fe&&De&&b.state.next({...t}),v(!0),i.resolver){const{errors:Ye}=await H([c]);if(g(se),h){const js=ls(t.errors,n,c),Ze=ls(Ye,n,js.name||c);A=Ze.error,c=Ze.name,U=Y(Ye)}}else A=(await is(f,d,G,i.shouldUseNativeValidation))[c],g(se),h&&(A?U=!1:k.isValid&&(U=await $(n,!0)));h&&(f._f.deps&&ne(f._f.deps),de(c,U,A,Ee))}},R=(s,a)=>{if(x(t.errors,a)&&s.focus)return s.focus(),1},ne=async(s,a={})=>{let c,h;const f=Me(s);if(v(!0),i.resolver){const u=await ee(M(s)?s:f);c=Y(u),h=s?!f.some(g=>x(u,g)):c}else s?(h=(await Promise.all(f.map(async u=>{const g=x(n,u);return await $(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!h&&!t.isValid)&&E()):h=c=await $(n);return b.state.next({...!te(s)||k.isValid&&c!==t.isValid?{}:{name:s},...i.resolver||!s?{isValid:c}:{},errors:t.errors,isValidating:!1}),a.shouldFocus&&!h&&ve(n,R,s?f:p.mount),h},je=s=>{const a={...o,...y.mount?d:{}};return M(s)?a:te(s)?x(a,s):s.map(c=>x(a,c))},Fe=(s,a)=>({invalid:!!x((a||t).errors,s),isDirty:!!x((a||t).dirtyFields,s),isTouched:!!x((a||t).touchedFields,s),error:x((a||t).errors,s)}),gs=s=>{s&&Me(s).forEach(a=>B(t.errors,a)),b.state.next({errors:s?t.errors:{}})},ze=(s,a,c)=>{const h=(x(n,s,{_f:{}})._f||{}).ref;S(t.errors,s,{...a,ref:h}),b.state.next({name:s,errors:t.errors,isValid:!1}),c&&c.shouldFocus&&h&&h.focus&&h.focus()},ms=(s,a)=>oe(s)?b.values.subscribe({next:c=>s(F(void 0,a),c)}):F(s,a,!0),Le=(s,a={})=>{for(const c of s?Me(s):p.mount)p.mount.delete(c),p.array.delete(c),a.keepValue||(B(n,c),B(d,c)),!a.keepError&&B(t.errors,c),!a.keepDirty&&B(t.dirtyFields,c),!a.keepTouched&&B(t.touchedFields,c),!i.shouldUnregister&&!a.keepDefaultValue&&B(o,c);b.values.next({values:{...d}}),b.state.next({...t,...a.keepDirty?{isDirty:w()}:{}}),!a.keepIsValid&&E()},He=({disabled:s,name:a,field:c,fields:h,value:f})=>{if(ae(s)){const u=s?void 0:M(f)?Te(c?c._f:x(h,a)._f):f;S(d,a,u),X(a,u,!1,!1,!0)}},Ce=(s,a={})=>{let c=x(n,s);const h=ae(a.disabled);return S(n,s,{...c||{},_f:{...c&&c._f?c._f:{ref:{name:s}},name:s,mount:!0,...a}}),p.mount.add(s),c?He({field:c,disabled:a.disabled,name:s,value:a.value}):re(s,!0,a.value),{...h?{disabled:a.disabled}:{},...i.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:s,onChange:m,onBlur:m,ref:f=>{if(f){Ce(s,a),c=x(n,s);const u=M(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=Is(u),A=c._f.refs||[];if(g?A.find(U=>U===u):u===c._f.ref)return;S(n,s,{_f:{...c._f,...g?{refs:[...A.filter(Ue),u,...Array.isArray(x(o,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),re(s,!1,void 0,u)}else c=x(n,s,{}),c._f&&(c._f.mount=!1),(i.shouldUnregister||a.shouldUnregister)&&!(Ls(p.array,s)&&y.action)&&p.unMount.add(s)}}},$e=()=>i.shouldFocusError&&ve(n,R,p.mount),ys=s=>{ae(s)&&(b.state.next({disabled:s}),ve(n,(a,c)=>{let h=s;const f=x(n,c);f&&ae(f._f.disabled)&&(h||(h=f._f.disabled)),a.disabled=h},0,!1))},We=(s,a)=>async c=>{let h;c&&(c.preventDefault&&c.preventDefault(),c.persist&&c.persist());let f=K(d);if(b.state.next({isSubmitting:!0}),i.resolver){const{errors:u,values:g}=await H();t.errors=u,f=g}else await $(n);if(B(t.errors,"root"),Y(t.errors)){b.state.next({errors:{}});try{await s(f,c)}catch(u){h=u}}else a&&await a({...t.errors},c),$e(),setTimeout($e);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Y(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},vs=(s,a={})=>{x(n,s)&&(M(a.defaultValue)?ie(s,K(x(o,s))):(ie(s,a.defaultValue),S(o,s,K(a.defaultValue))),a.keepTouched||B(t.touchedFields,s),a.keepDirty||(B(t.dirtyFields,s),t.isDirty=a.defaultValue?w(s,K(x(o,s))):w()),a.keepError||(B(t.errors,s),k.isValid&&E()),b.state.next({...t}))},Ke=(s,a={})=>{const c=s?K(s):o,h=K(c),f=s&&!Y(s)?h:o;if(a.keepDefaultValues||(o=c),!a.keepValues){if(a.keepDirtyValues)for(const u of p.mount)x(t.dirtyFields,u)?S(f,u,x(d,u)):ie(u,x(f,u));else{if(Be&&M(s))for(const u of p.mount){const g=x(n,u);if(g&&g._f){const A=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(_e(A)){const U=A.closest("form");if(U){U.reset();break}}}}n={}}d=e.shouldUnregister?a.keepDefaultValues?K(o):{}:K(f),b.array.next({values:{...f}}),b.values.next({values:{...f}})}p={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!y.mount&&l(),y.mount=!k.isValid||!!a.keepIsValid||!!a.keepDirtyValues,y.watch=!!e.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ue(s,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:a.keepDirtyValues?a.keepDefaultValues&&d?we(o,d):t.dirtyFields:a.keepDefaultValues&&s?we(o,s):{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(s,a)=>Ke(oe(s)?s(d):s,a);return{control:{register:Ce,unregister:Le,getFieldState:Fe,handleSubmit:We,setError:ze,_executeSchema:H,_getWatch:F,_getDirty:w,_updateValid:E,_removeUnmounted:N,_updateFieldArray:j,_updateDisabledField:He,_getFieldArray:P,_reset:Ke,_resetDefaultValues:()=>oe(i.defaultValues)&&i.defaultValues().then(s=>{Qe(s,i.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:ys,_subjects:b,_proxyFormState:k,_setErrors:D,get _fields(){return n},get _formValues(){return d},get _state(){return y},set _state(s){y=s},get _defaultValues(){return o},get _names(){return p},set _names(s){p=s},get _formState(){return t},set _formState(s){t=s},get _options(){return i},set _options(s){i={...i,...s}}},trigger:ne,register:Ce,handleSubmit:We,watch:ms,setValue:ie,getValues:je,reset:Qe,resetField:vs,clearErrors:gs,unregister:Le,setError:ze,setFocus:(s,a={})=>{const c=x(n,s),h=c&&c._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),a.shouldSelect&&f.select())}},getFieldState:Fe}}function Ks(e={}){const l=Q.useRef(),i=Q.useRef(),[t,n]=Q.useState({isDirty:!1,isValidating:!1,isLoading:oe(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:oe(e.defaultValues)?void 0:e.defaultValues});l.current||(l.current={...Ws(e,()=>n(d=>({...d}))),formState:t});const o=l.current.control;return o._options=e,Ms({subject:o._subjects.state,next:d=>{Es(d,o._proxyFormState,o._updateFormState,!0)&&n({...o._formState})}}),Q.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Q.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==t.isDirty&&o._subjects.state.next({isDirty:d})}},[o,t.isDirty]),Q.useEffect(()=>{e.values&&!ue(e.values,i.current)?(o._reset(e.values,o._options.resetOptions),i.current=e.values,n(d=>({...d}))):o._resetDefaultValues()},[e.values,o]),Q.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),Q.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Q.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),l.current.formState=Ds(t,o),l.current}const Qs=()=>{const[e,l]=_.useState(!1),[i,t]=_.useState(!1),{register:n,handleSubmit:o,errors:d}=Ks(),y=p=>{console.log(p),t(!0),ge.post(`${me}/pick-pack/create/user`,{name:p.name,last_name:p.last_name,email:p.email,password:p.password}).then(V=>{console.log(V),ce.success("Usuario creado exitosamente"),l(!1)}).catch(V=>{console.log(V),ce.error("Ups algo salio mal, intenta de nuevo")}).finally(()=>t(!1))};return r.jsxs("div",{className:"",children:[r.jsx("div",{className:"fixed bottom-2 left-2 z-20",children:r.jsx("div",{onClick:()=>l(!e),className:"bg-blue-500 py-2 px-3 rounded-lg cursor-pointer",children:r.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 640 512",fill:"currentColor",height:"1em",width:"1em",children:r.jsx("path",{d:"M352 128c0 70.7-57.3 128-128 128S96 198.7 96 128 153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312v-64h-64c-13.3 0-24-10.7-24-24s10.7-24 24-24h64v-64c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24h-64v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"})})})}),r.jsx(ke,{isOpen:e,setIsOpen:l,children:r.jsxs("div",{className:"p-7",children:[r.jsx("div",{className:"text-center font-semibold text-xl",children:"Agregar Picker"}),r.jsxs("form",{onSubmit:o(y),className:"",children:[r.jsxs("label",{className:"form-control w-full max-w-xs",children:[r.jsx("div",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Nombre(s):"})}),r.jsx("input",{...n("name",{required:!0}),type:"text",placeholder:`Elsa Porrico\r
\r
              `,className:"input input-bordered w-full max-w-xs"})]})," ",r.jsxs("label",{className:"form-control w-full max-w-xs",children:[r.jsx("div",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Apellidos:"})}),r.jsx("input",{...n("last_name",{required:!0}),type:"text",placeholder:"Willy Melano",className:"input input-bordered w-full max-w-xs"})]}),r.jsxs("label",{className:"form-control w-full max-w-xs",children:[r.jsx("div",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Correo electronico:"})}),r.jsx("input",{...n("email",{required:!0}),type:"text",placeholder:"@example.com",className:"input input-bordered w-full max-w-xs"})]}),r.jsxs("label",{className:"form-control w-full max-w-xs",children:[r.jsx("div",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Contraseña:"})}),r.jsx("input",{...n("password",{required:!0}),type:"text",placeholder:"********",className:"input input-bordered w-full max-w-xs"})]}),r.jsx("div",{className:"text-center mt-4",children:i?r.jsx("span",{className:"loading loading-spinner text-info"}):r.jsx("button",{type:"submit",className:"euro-btn w-3/4",children:"Enviar"})})]})]})})]})},Ys=({showUp:e})=>{const{user:l}=Re(),{orderId:i}=ws(),[t,n]=_.useState(e),[o,d]=_.useState([{name:"queja",color:"#3498db"},{name:"paqueteria",color:"#e74c3c"},{name:"clientes info",color:"#9b59b6"}]),[y,p]=_.useState({}),[V,L]=_.useState(!1),[k,b]=_.useState({}),[I,C]=_.useState(!1),[G,J]=_.useState(!1),[E,v]=_.useState(!1),j=_.useRef(null);function T(){n(!t)}function D(){L(!t)}const[re,X]=_.useState(""),[de,H]=_.useState(!1),[ee,$]=_.useState([]),N=()=>{const m={type:"text",text:re,tag:y.name,id_user:l.id};q(m),H(!1)};function w(m){L(!0),b({type:m.fileList[0].type,base64:m.base64})}function F(){if(k.type){const m={src:k.base64,type:"image",tag:y.name,id_user:l.id};q(m)}L(!1)}function P(m){const R=m,ne=new Date(R);if(isNaN(ne))return"Ahora";{const je={day:"2-digit",month:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:!1};return ne.toLocaleString("en-GB",je)}}function q(m){Object.keys(y).length>0?(C(!0),ge.post(`${me}/pick-pack/message/${i}`,m).then(R=>{console.log(R),$(ne=>[...ne,m]),p({}),X("")}).catch(R=>{console.log(R),ce.error("Ups, no se pudo enviar el mensaje")}).finally(()=>{C(!1)})):(ce.error("Elige una etiqueta"),v(!0))}function W(){J(!0),ge.get(`${me}/pick-pack/message/${i}`).then(m=>{$(m.data),console.log(m.data)}).catch(m=>{console.log(m)}).finally(()=>{J(!1)})}function ie(m){switch(m){case"queja":return"#3498db";case"paqueteria":return"#e74c3c";case"clientes info":return"#9b59b6";default:return"#3f3d3d"}}return _.useEffect(()=>{t&&W()},[t]),_.useEffect(()=>{var m;(m=j.current)==null||m.scrollIntoView()},[ee]),r.jsx("div",{className:"",children:r.jsx("div",{className:" ",children:r.jsxs(ke,{handleModal:T,isOpen:t,setIsOpen:n,children:[r.jsxs("div",{id:"labels",className:`fixed overflow-hidden  space-y-4 bottom-0 transition-all   duration-300 w-full bg-gray-100  ${E?"opacity-100 z-40":"opacity-0 -z-10"}  p-4`,children:[r.jsx("div",{className:"absolute right-2 top-2",children:r.jsx("button",{onClick:()=>v(!1),className:" btn btn-circle btn-accent btn-sm",children:"x"})}),o.map((m,R)=>r.jsx("label",{className:"flex items-center gap-2 cursor-pointer",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"radio",id:`radio-${R}`,name:"radio-group",onChange:()=>{p(m),v(!1)},className:"radio radio-info"}),r.jsx("div",{style:{backgroundColor:m.color},className:"text-white font-bold text-sm py-1 px-2 rounded-full",children:m.name})]})},R))]}),G&&r.jsx("div",{className:"bg-white absolute flex justify-center w-full bg-opacity-70 z-50 h-full ",children:r.jsx("span",{className:"loading loading-bars loading-lg"})}),r.jsxs("div",{className:"h-[440px]  bg-white relative overflow-y-auto",children:[r.jsx("div",{id:"emoji_picker",className:`-translate-x-1/2 left-1/2 fixed top-10 ${de?"opacity-100 z-10":"opacity-0 -z-10"}`,children:r.jsx(Ns,{onChange:m=>{X(R=>R.concat(m.unicode))}})}),r.jsxs("div",{className:" w-full p-2  fixed flex justify-between items-center  z-10 bg-gray-100",children:[r.jsxs("div",{className:"font-bold",children:["Orden: ",i]}),r.jsx("div",{children:r.jsxs("div",{id:"btn-labels",style:{backgroundColor:Object.keys(y).length===0?"#404041":y.color},onClick:()=>{v(!E),console.log("butn show label")},className:"flex p-1 text-white select-none cursor-pointer items-center gap-1  rounded-md",children:[r.jsx("div",{children:r.jsxs("svg",{viewBox:"0 0 20 16",fill:"currentColor",height:"1em",width:"1em",className:"text-white",children:[r.jsx("path",{fill:"currentColor",d:"M19.25 0h-6c-.412 0-.989.239-1.28.53L4.531 7.969a.752.752 0 000 1.061l6.439 6.439a.752.752 0 001.061 0L19.47 8.03c.292-.292.53-.868.53-1.28v-6a.752.752 0 00-.75-.75zM15.5 6a1.5 1.5 0 11.001-3.001A1.5 1.5 0 0115.5 6z"}),r.jsx("path",{fill:"currentColor",d:"M2 8.5L10.5 0H9.25c-.412 0-.989.239-1.28.53L.531 7.969a.752.752 0 000 1.061l6.439 6.439a.752.752 0 001.061 0l.47-.47-6.5-6.5z"})]})}),r.jsx("div",{children:Object.keys(y).length===0?"Etiquetas":y.name})]})})]}),r.jsxs("div",{id:"bubble messages",className:"py-2 px-2 flex flex-col gap-4 relative",children:[ee.map((m,R)=>r.jsx("div",{className:"flex items-start gap-2.5",children:r.jsxs("div",{className:"flex flex-col w-full max-w-[320px] leading-1.5 p-4 border-gray-200 bg-gray-200 rounded-e-xl rounded-es-xl ",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 ",children:m.user&&m.id_user===l.id?"Tú":m.user&&m.user.name_user}),r.jsx("span",{className:"text-sm font-normal text-gray-500 ",children:P(m.updatedAt)})]}),r.jsxs("p",{className:"text-sm font-normal py-2.5 text-gray-900",children:[m.type==="text"&&r.jsx("span",{children:m.text}),m.type==="image"&&r.jsx("span",{children:r.jsx("img",{className:"w-56 cursor-pointer",src:m.src,alt:""})})]}),r.jsx("div",{children:r.jsx("div",{style:{backgroundColor:ie(m.tag)},className:"inline-block px-2 text-sm font-normal rounded-lg   text-white ",children:m.tag})})]})},R)),r.jsx("div",{ref:j}),I&&r.jsxs("div",{className:"flex justify-start items-center gap-2",children:["Enviando",r.jsx("span",{className:"loading loading-spinner loading-md"})]})]})]}),r.jsx("div",{className:"h-20 bg-gray-200 flex w-full rounded-md p-1 items-center",children:r.jsxs("div",{className:"flex  items-center p-2 bg-white border rounded-full w-full",children:[r.jsx("input",{autoFocus:!1,value:re,className:"flex h-10 w-full bg-white border-input  text-sm text-black ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-black focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 flex-1 rounded-full px-4 py-2 border-0",placeholder:"Escribe Algo...",onChange:m=>{X(m.target.value)}}),r.jsx(ks,{base64:!0,handleFiles:w,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-2 text-gray-600 cursor-pointer hover:text-blue-500",children:r.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"})})}),de?r.jsx("div",{id:"cross_svg",onClick:()=>H(!1),children:r.jsx("svg",{className:"text-black mx-2 cursor-pointer",fill:"none",viewBox:"0 0 15 15",height:"24",width:"24",children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.854 2.854a.5.5 0 00-.708-.708L7.5 6.793 2.854 2.146a.5.5 0 10-.708.708L6.793 7.5l-4.647 4.646a.5.5 0 00.708.708L7.5 8.207l4.646 4.647a.5.5 0 00.708-.708L8.207 7.5l4.647-4.646z",clipRule:"evenodd"})})}):r.jsx("div",{onClick:()=>H(!0),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-2 text-gray-600 cursor-pointer hover:text-blue-500",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),r.jsx("line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}),r.jsx("line",{x1:"15",x2:"15.01",y1:"9",y2:"9"})]})}),re.length>0?r.jsx("div",{id:"arrow_send",onClick:N,children:r.jsx("svg",{viewBox:"0 0 512 512",fill:"currentColor",height:"24",className:"mx-2 text-blue-500 cursor-pointer",width:"24",children:r.jsx("path",{d:"M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z"})})}):r.jsxs("svg",{onClick:()=>ce("Coming Soon...",{icon:"⌛️",position:"bottom-center"}),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-2 text-gray-600 cursor-pointer hover:text-black",children:[r.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),r.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),r.jsx("line",{x1:"12",x2:"12",y1:"19",y2:"22"})]})]})}),r.jsx("div",{className:"bg-blue-300 flex items-center"}),r.jsx(ke,{id:"modal-file",isOpen:V,handleModal:D,setIsOpen:L,children:k.type&&k.type.includes("image")&&r.jsxs("div",{className:"",children:[r.jsx("img",{src:k.base64,className:"",alt:""}),r.jsxs("div",{className:"my-5 flex justify-evenly",children:[r.jsxs("button",{onClick:()=>{L(!1),b({})},className:"inline-flex items-center gap-1 justify-center text-sm ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input hover:text-accent-foreground h-10 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:[r.jsx("svg",{fill:"none",viewBox:"0 0 24 24",height:"18",width:"18",children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M17 6V5a2 2 0 00-2-2H9a2 2 0 00-2 2v1H4a1 1 0 000 2h1v11a3 3 0 003 3h8a3 3 0 003-3V8h1a1 1 0 100-2h-3zm-2-1H9v1h6V5zm2 3H7v11a1 1 0 001 1h8a1 1 0 001-1V8z",clipRule:"evenodd"})}),"Descartar"]}),r.jsxs("button",{onClick:F,className:"inline-flex gap-1 items-center justify-center text-sm ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:[r.jsx("svg",{fill:"none",viewBox:"0 0 15 15",height:"18",width:"18",children:r.jsx("path",{fill:"currentColor",d:"M14.954.71a.5.5 0 01-.1.144L5.4 10.306l2.67 4.451a.5.5 0 00.889-.06L14.954.71zM4.694 9.6L.243 6.928a.5.5 0 01.06-.889L14.293.045a.5.5 0 00-.146.101L4.694 9.6z"})}),"Enviar"]})]})]})})]})})})},Zs=()=>{const[e,l]=_.useState(!1),[i,t]=_.useState(!1),[n,o]=_.useState({}),[d,y]=_.useState([]),{fulFillmentUsers:p,setFulFillmentUsers:V}=Re(),[L,k]=_.useState([]),[b,I]=_.useState([]);function C(j){t(!0),o(j)}const G=j=>{if(j===3)return"Listo para manejo 🚚";if(j===4)return"Surtiendo 🛒";if(j===5)return"Surtido ✅";if(j===6)return"Empacando 📦";if(j===7)return"Empacado 📦✅"};function J(){y(!0),ge.get(`${me}/pick-pack/orders_status`,{params:{status:[3,4,5,6,7]}}).then(j=>{console.log(j.data),k(j.data.ordersList),I(j.data.ordersList)}).catch(j=>{console.log(j),ce.error("Ocurrio un error al intentar obtener las ordenes")}).finally(()=>y(!1))}function E(j){const T=L.find(D=>D.idVtex_order===j);console.log(T),I(T?[T]:L)}function v(){ge.get(`${me}/pick-pack/fulfillment/users`).then(j=>{V(j.data)}).catch(j=>{console.log(j)})}return _.useEffect(()=>{J(),v()},[]),r.jsxs("div",{className:"",children:[r.jsx(Qs,{}),r.jsx("div",{className:"sticky top-20  bg-white z-20",children:r.jsx(as,{onHandleQuery:E,placeHolderValue:"Busca una orden"})}),r.jsx("div",{className:"overflow-x-auto w-screen",children:r.jsxs("table",{className:"table text-center table-pin-rows table-sm table-zebra",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"",children:[r.jsx("th",{className:"",children:"Orden"}),r.jsx("th",{children:"Estatus"}),r.jsx("th",{children:"Asignar"}),r.jsx("th",{children:"Notas"})]})}),r.jsx("tbody",{children:b.map((j,T)=>r.jsxs("tr",{children:[r.jsx("td",{children:j.idVtex_order}),r.jsx("td",{className:"",children:r.jsx("span",{className:"",children:G(j.status2_order)})}),r.jsx("td",{children:r.jsx("div",{className:"btn btn-sm",onClick:()=>{C(j)},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",height:"1em",width:"1em",className:"w-7 h-7",children:r.jsx("path",{d:"M21.7 13.35l-1 1-2.05-2.05 1-1a.55.55 0 01.77 0l1.28 1.28c.21.21.21.56 0 .77M12 18.94l6.06-6.06 2.05 2.05L14.06 21H12v-2.06M12 14c-4.42 0-8 1.79-8 4v2h6v-1.89l4-4c-.66-.08-1.33-.11-2-.11m0-10a4 4 0 00-4 4 4 4 0 004 4 4 4 0 004-4 4 4 0 00-4-4z"})})})}),r.jsx("td",{onClick:()=>{console.log("clic"),l(!e)},children:r.jsx("div",{className:"btn btn-sm",children:r.jsx("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"currentColor",height:"1em",width:"1em",children:r.jsx("path",{d:"M8.5 18l3.5 4 3.5-4H19c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h3.5zM7 7h10v2H7V7zm0 4h7v2H7v-2z"})})})})]},T))})]})}),d&&r.jsx("div",{className:"text-center mt-10",children:r.jsx("span",{className:"loading loading-dots loading-lg"})}),r.jsx(Vs,{opening:i,rowSelected:n,changeState:t}),r.jsx(Ys,{showUp:e})]})},tt=()=>r.jsx(_s,{children:r.jsx(Zs,{})});export{tt as default};
