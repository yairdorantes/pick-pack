import{r as e,i as N,k as I,h as K,P as S,L as b,j as i,d as F,e as $}from"./index-eDWHhGQN.js";function L(){const t=e.useRef(!1);return N(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function O(){const t=L(),[s,n]=e.useState(0),r=e.useCallback(()=>{t.current&&n(s+1)},[s]);return[e.useCallback(()=>I.postRender(r),[r]),s]}class T extends e.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B({children:t,isPresent:s}){const n=e.useId(),r=e.useRef(null),p=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:f,height:h,top:d,left:x}=p.current;if(s||!r.current||!f||!h)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            top: ${d}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[s]),e.createElement(T,{isPresent:s,childRef:r,sizeRef:p},e.cloneElement(t,{ref:r}))}const k=({children:t,initial:s,isPresent:n,onExitComplete:r,custom:p,presenceAffectsLayout:f,mode:h})=>{const d=K(U),x=e.useId(),u=e.useMemo(()=>({id:x,initial:s,isPresent:n,custom:p,onExitComplete:o=>{d.set(o,!0);for(const a of d.values())if(!a)return;r&&r()},register:o=>(d.set(o,!1),()=>d.delete(o))}),f?void 0:[n]);return e.useMemo(()=>{d.forEach((o,a)=>d.set(a,!1))},[n]),e.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),h==="popLayout"&&(t=e.createElement(B,{isPresent:n},t)),e.createElement(S.Provider,{value:u},t)};function U(){return new Map}function A(t){return e.useEffect(()=>()=>t(),[])}const m=t=>t.key||"";function W(t,s){t.forEach(n=>{const r=m(n);s.set(r,n)})}function D(t){const s=[];return e.Children.forEach(t,n=>{e.isValidElement(n)&&s.push(n)}),s}const _=({children:t,custom:s,initial:n=!0,onExitComplete:r,exitBeforeEnter:p,presenceAffectsLayout:f=!0,mode:h="sync"})=>{const d=e.useContext(b).forceRender||O()[0],x=L(),u=D(t);let o=u;const a=e.useRef(new Map).current,w=e.useRef(o),v=e.useRef(new Map).current,E=e.useRef(!0);if(N(()=>{E.current=!1,W(u,v),w.current=o}),A(()=>{E.current=!0,v.clear(),a.clear()}),E.current)return e.createElement(e.Fragment,null,o.map(c=>e.createElement(k,{key:m(c),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:f,mode:h},c)));o=[...o];const R=w.current.map(m),y=u.map(m),P=R.length;for(let c=0;c<P;c++){const l=R[c];y.indexOf(l)===-1&&!a.has(l)&&a.set(l,void 0)}return h==="wait"&&a.size&&(o=[]),a.forEach((c,l)=>{if(y.indexOf(l)!==-1)return;const j=v.get(l);if(!j)return;const H=R.indexOf(l);let C=c;if(!C){const V=()=>{a.delete(l);const z=Array.from(v.keys()).filter(g=>!y.includes(g));if(z.forEach(g=>v.delete(g)),w.current=u.filter(g=>{const M=m(g);return M===l||z.includes(M)}),!a.size){if(x.current===!1)return;d(),r&&r()}};C=e.createElement(k,{key:m(j),isPresent:!1,onExitComplete:V,custom:s,presenceAffectsLayout:f,mode:h},j),a.set(l,C)}o.splice(H,0,C)}),o=o.map(c=>{const l=c.key;return a.has(l)?c:e.createElement(k,{key:m(c),isPresent:!0,presenceAffectsLayout:f,mode:h},c)}),e.createElement(e.Fragment,null,a.size?o:o.map(c=>e.cloneElement(c)))},q=({number:t,sku:s,SpeechTxt:n})=>{const[r,p]=e.useState(0);return e.useEffect(()=>{t!==void 0&&p(f=>f+1)},[t]),i.jsx("div",{className:`fixed ${t!==void 0&&"fade-in-out"} w-screen h-screen top-0  -translate-x-1/2 font-Lilita left-1/2 opacity-0 -z-10`,children:i.jsxs("div",{className:" flex flex-col items-center justify-center h-full  bg-teal-400  ",children:[i.jsx("div",{className:"text-white tracking-in-expand  font-bold  text-[200px]",children:t}),i.jsx("div",{className:"text-white  text-4xl",children:s})]})},r)},J=()=>i.jsxs("div",{className:"flex items-center space-x-2  ml-5",children:[i.jsx("div",{className:"animate-pulse  bg-gray-500 h-20 w-20 rounded-md"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"animate-pulse rounded-md bg-gray-500 h-4 w-[200px]",children:" "}),i.jsx("div",{className:"animate-pulse rounded-md bg-gray-500 h-4 w-[170px]",children:" "})]})]}),Q=({route:t,ws:s})=>{const n=F(),r=()=>{if(!document.startViewTransition){n(t);return}document.startViewTransition(()=>$.flushSync(()=>n(t)))};return i.jsxs("div",{children:[" ",i.jsxs("div",{onClick:r,className:"flex items-center gap-1 m-3 cursor-pointer w-56 active:scale-95  transition-all ",children:[i.jsx("div",{children:i.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"})})}),i.jsx("div",{children:i.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 384 512",height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"})})}),i.jsx("div",{className:"text-lg font-semibold",children:s})]})]})};export{q as A,J as C,Q as R,_ as a};
